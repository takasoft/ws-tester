(this["webpackJsonpws-tester"]=this["webpackJsonpws-tester"]||[]).push([[0],{39:function(e){e.exports=JSON.parse('{"name":"ws-tester","version":"0.1.1","private":true,"homepage":".","dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^7.2.1","ace-builds":"^1.4.7","bootstrap":"^4.4.1","react":"^16.12.0","react-ace":"^8.0.0","react-bootstrap":"^1.0.0-beta.16","react-dom":"^16.12.0","react-icons":"^3.8.0","react-json-view":"^1.19.1","react-scripts":"3.3.0"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^2.1.1"}}')},47:function(e,t,a){e.exports=a(67)},52:function(e,t,a){},63:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),c=a.n(s),l=(a(52),a(45)),i=a(12),o=a(13),u=a(15),d=a(14),h=a(16),m=(a(53),a(26)),p=a(19),v=a(25),b=a(46),f=a(43),g=a(23),E=a(37),y=a.n(E),w=(a(61),a(62),a(38)),O=a.n(w),j=(a(63),a(27)),k=a(28),C=a(44),S=a(39),D=function(e){function t(e){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{bg:"light",variant:"light"},r.a.createElement(p.a,null,r.a.createElement(j.a.Brand,{to:"",activeClassName:"active"},"WS Tester ",r.a.createElement("small",null,"ver. ",S.version)),r.a.createElement(k.a,null,r.a.createElement(k.a.Link,{target:"_blank",href:"https://github.com/takasoft/ws-tester"},r.a.createElement(C.a,null)))))}}]),t}(r.a.Component);function T(){var e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}var H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={ws:null,url:"wss://echo.websocket.org",msg:"",history:[],connected:!1},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"addHistory",value:function(e,t){var a="str";try{t=JSON.parse(t),a="json"}catch(n){}this.setState({history:[].concat(Object(l.a)(this.state.history),[{time:T(),evtType:e,dataType:a,data:t}])})}},{key:"connect",value:function(){if(this.state.connected)return this.state.ws.close(),void this.setState({ws:null,connected:!1});var e=new WebSocket(this.state.url);this.setState({ws:e}),this.addHistory("INFO","Connecting to "+this.state.url);var t=this;e.onerror=function(e){t.addHistory("ERROR",e.data)},e.onclose=function(e){t.addHistory("CLOSE","code="+e.code)},e.onopen=function(){t.addHistory("INFO","Connected to "+t.state.url),t.setState({connected:!0})},e.onmessage=function(e){t.addHistory("RECIEVED",e.data)}}},{key:"send",value:function(){this.state.ws.send(this.state.msg),this.addHistory("SENT",this.state.msg)}},{key:"handleUrlChange",value:function(e){this.setState({url:e})}},{key:"handleMsgChange",value:function(e){this.setState({msg:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(v.a,{size:"sm"},r.a.createElement(b.a,{placeholder:"URL","aria-label":"URL","aria-describedby":"url",value:this.state.url,onChange:function(t){return e.handleUrlChange(t.target.value)}}),r.a.createElement(v.a.Append,null,r.a.createElement(m.a,{variant:"primary",onClick:function(){return e.connect()}},this.state.connected?"Disconnect":"Connect")))),r.a.createElement(g.a,null),r.a.createElement(N,{history:this.state.history}),r.a.createElement(g.a,null,r.a.createElement("div",{className:"msg-div"},r.a.createElement(y.a,{mode:"javascript",theme:"github",value:this.state.msg,onChange:function(t){return e.handleMsgChange(t)},name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},maxLines:10,minLines:3,width:"100%",readOnly:!this.state.connected}),r.a.createElement(m.a,{variant:"primary",onClick:function(){return e.send()},disabled:!this.state.connected},"Send")))))}}]),t}(r.a.Component),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).ref=r.a.createRef(),a.history=[],a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this.ref.current.scrollTop=this.ref.current.scrollHeight}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"log-table-wrapper",ref:this.ref,onScroll:function(){return console.log(e.ref.current.scrollTop)}},r.a.createElement(f.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Event"),r.a.createElement("th",null,"Data"))),r.a.createElement("tbody",null,this.props.history.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e.time),r.a.createElement("td",null,e.evtType),r.a.createElement("td",null,"str"==e.dataType?r.a.createElement("pre",null,e.data):r.a.createElement(O.a,{src:e.data,name:null,displayObjectSize:!1,displayDataTypes:!1,enableClipboard:!1})))})))))}}]),t}(r.a.Component),I=H;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.abac441f.chunk.js.map