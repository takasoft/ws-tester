(this["webpackJsonpws-tester"]=this["webpackJsonpws-tester"]||[]).push([[0],{38:function(e){e.exports=JSON.parse('{"name":"ws-tester","version":"0.1.2","private":true,"homepage":".","dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^7.2.1","ace-builds":"^1.4.7","bootstrap":"^4.4.1","react":"^16.12.0","react-ace":"^8.0.0","react-bootstrap":"^1.0.0-beta.16","react-dom":"^16.12.0","react-icons":"^3.8.0","react-json-view":"^1.19.1","react-scripts":"3.3.0"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^2.1.1"}}')},48:function(e,t,a){e.exports=a(68)},53:function(e,t,a){},64:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),s=a.n(i),o=(a(53),a(46)),c=a(13),l=a(14),d=a(20),u=a(15),h=a(21),m=(a(54),a(25)),g=a(17),p=a(24),v=a(47),f=a(44),b=a(42),y=a(43),w=a(36),E=a.n(w),k=(a(62),a(63),a(37)),O=a.n(k),j=(a(64),a(26)),C=a(27),S=a(45),H=a(38),L=function(e){function t(e){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{bg:"light",variant:"light",id:"main-navbar"},r.a.createElement(g.a,null,r.a.createElement(j.a.Brand,{to:"",activeClassName:"active"},"WS Tester ",r.a.createElement("small",null,"ver. ",H.version)),r.a.createElement(C.a,null,r.a.createElement(C.a.Link,{target:"_blank",href:"https://github.com/takasoft/ws-tester"},r.a.createElement(S.a,null)))))}}]),t}(r.a.Component),R=window.innerHeight-60-31-42,V=10,T=3,x=14;function D(){var e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}var M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={ws:null,url:"wss://echo.websocket.org",msg:"",history:[],connected:!1,logViewHeight:R+"px"},a.refLogView=r.a.createRef(),a.refMainRow=r.a.createRef(),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"addHistory",value:function(e,t){var a=this,n="str";try{t=JSON.parse(t),n="json"}catch(r){}this.setState({history:[].concat(Object(o.a)(this.state.history),[{time:D(),evtType:e,dataType:n,data:t}])},(function(){a.refLogView.current.scrollTop=a.refLogView.current.scrollHeight}))}},{key:"connect",value:function(){if(this.state.connected)return this.state.ws.close(),void this.setState({ws:null,connected:!1});var e=new WebSocket(this.state.url);this.setState({ws:e}),this.addHistory("INFO","Connecting to "+this.state.url);var t=this;e.onerror=function(e){t.addHistory("ERROR",e.data)},e.onclose=function(e){t.addHistory("CLOSE","code="+e.code)},e.onopen=function(){t.addHistory("INFO","Connected to "+t.state.url),t.setState({connected:!0})},e.onmessage=function(e){t.addHistory("RECIEVED",e.data)}}},{key:"send",value:function(){this.state.ws.send(this.state.msg),this.addHistory("SENT",this.state.msg)}},{key:"handleUrlChange",value:function(e){this.setState({url:e})}},{key:"handleMsgChange",value:function(e){var t,a=this,n=((t=e.split("\n").length)<=T?R:(t>V&&(t=V),R-x*(t-T)))+"px";this.setState({msg:e,logViewHeight:n},(function(){a.refLogView.current.scrollTop=a.refLogView.current.scrollHeight}))}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(L,null),r.a.createElement(g.a,{id:"app-container"},r.a.createElement(b.a,{noGutters:!0,ref:this.refMainRow},r.a.createElement(y.a,null,r.a.createElement(p.a,{size:"sm",id:"url-input-container"},r.a.createElement(v.a,{placeholder:"URL","aria-label":"URL","aria-describedby":"url",value:this.state.url,onChange:function(t){return e.handleUrlChange(t.target.value)}}),r.a.createElement(p.a.Append,null,r.a.createElement(m.a,{variant:"primary",onClick:function(){return e.connect()}},this.state.connected?"Disconnect":"Connect"))),r.a.createElement("div",{id:"log-table-container",ref:this.refLogView,style:{"min-height":this.state.logViewHeight}},r.a.createElement(f.a,{striped:!0,bordered:!0,hover:!0,size:"sm",id:"log-table"},r.a.createElement("tbody",null,this.state.history.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e.time),r.a.createElement("td",null,e.evtType),r.a.createElement("td",null,"str"==e.dataType?r.a.createElement("pre",null,e.data):r.a.createElement(O.a,{src:e.data,name:null,displayObjectSize:!1,displayDataTypes:!1,enableClipboard:!1})))}))))),r.a.createElement("div",{id:"msg-div"},r.a.createElement("div",{id:"msg-editor-div"},r.a.createElement(E.a,{mode:"javascript",theme:"github",value:this.state.msg,onChange:function(t){return e.handleMsgChange(t)},name:"msg-editor",editorProps:{$blockScrolling:!0},maxLines:V,minLines:T,width:"100%",readOnly:!this.state.connected})),r.a.createElement(m.a,{variant:"primary",size:"sm",onClick:function(){return e.send()},disabled:!this.state.connected,id:"msg-submit"},"Send"))))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.f116ee31.chunk.js.map